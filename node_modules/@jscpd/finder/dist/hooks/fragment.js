"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
class FragmentsHook {
    process(clones) {
        return Promise.all(clones.map((clone) => FragmentsHook.addFragments(clone)));
    }
    static addFragments(clone) {
        const codeA = fs_1.readFileSync(clone.duplicationA.sourceId).toString();
        const codeB = fs_1.readFileSync(clone.duplicationB.sourceId).toString();
        clone.duplicationA.fragment = codeA.substring(clone.duplicationA.range[0], clone.duplicationA.range[1]);
        clone.duplicationB.fragment = codeB.substring(clone.duplicationB.range[0], clone.duplicationB.range[1]);
        return clone;
    }
}
exports.FragmentsHook = FragmentsHook;
//# sourceMappingURL=fragment.js.map